<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudiMarket - Plataforma Educativa</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de carga -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="logo-loading">
                <div class="logo-icon">üìö</div>
                <h1 class="logo-text">StudiMarket</h1>
            </div>
            <div class="welcome-message">
                <h2>¬°Bienvenido!</h2>
                <p>Preparando tu experiencia de compra...</p>
            </div>
            <div class="loading-spinner">
                <div class="spinner"></div>
            </div>
            <div class="loading-dots">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </div>
    </div>
    
    <!-- Contenedor de notificaciones -->
    <div id="notification-container" class="notification-container"></div>
    
    <!-- Modal de detalles del producto -->
    <div id="product-modal" class="product-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title"></h2>
                <button id="close-modal" class="close-modal" title="Cerrar">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modal-image" src="" alt="">
                    <span id="modal-category" class="modal-category-tag"></span>
                </div>
                <div class="modal-info">
                    <div class="modal-brand"></div>
                    <div class="modal-rating">
                        <span class="modal-stars"></span>
                        <span class="modal-rating-text"></span>
                    </div>
                    <div class="modal-price"></div>
                    <div class="modal-description"></div>
                    <div class="modal-stock-info">
                        <span>Stock disponible: </span>
                        <span id="modal-stock" class="modal-stock-number"></span>
                        <span> unidades</span>
                    </div>
                    <div class="modal-quantity-section">
                        <label for="modal-quantity">Cantidad:</label>
                        <div class="quantity-controls">
                            <button id="quantity-minus" class="quantity-btn">‚àí</button>
                            <input type="number" id="modal-quantity" class="quantity-input" value="1" min="1">
                            <button id="quantity-plus" class="quantity-btn">+</button>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button id="modal-add-to-cart" class="modal-btn primary">
                            üõí Agregar al carrito
                        </button>
                        <button id="modal-add-to-wishlist" class="modal-btn secondary">
                            ‚ô° Agregar a favoritos
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <header class="header">
        <div class="logo">StudiMarket</div>
        <nav class="nav-buttons">
            <a href="#" class="nav-btn primary">üîç Cat√°logo</a>
            <a href="#" class="nav-btn">üõí Carrito</a>
            <a href="#" class="nav-btn" id="wishlist-btn">‚ù§Ô∏è Favoritos</a>
        </nav>
        <div id="wishlist-menu" class="wishlist-menu">
            <div class="wishlist-header">
                <span>Mis Favoritos</span>
                <button id="close-wishlist" title="Cerrar">‚úï</button>
            </div>
            <div id="wishlist-list" class="wishlist-list">
                <!-- Productos favoritos se insertan aqu√≠ -->
            </div>
            <div class="wishlist-actions">
                <button id="buy-all-wishlist" class="wishlist-action-btn buy-all" title="Comprar todos los productos">
                    üõí Comprar Todo
                </button>
                <button id="clear-all-wishlist" class="wishlist-action-btn clear-all" title="Vaciar lista de favoritos">
                    üóëÔ∏è Vaciar Lista
                </button>
            </div>
            <div class="wishlist-empty">No tienes productos en favoritos.</div>
        </div>
    </header>

    <main class="main-content">
        <div class="search-bar">
            <input type="text" class="search-input" placeholder="Buscar productos...">
            <select class="search-select">
                <option>Mejor valorados</option>
                <option>Menor precio</option>
                <option>Mayor precio</option>
                <option>M√°s vendidos</option>
                <option>Destacados</option>
                <option>M√°s recientes</option>
            </select>
        </div>

        <div class="filters-section">
            <aside class="filters">
                <h3>Filtros</h3>
                
                <div class="filter-group">
                    <h4>Categor√≠a</h4>
                    <select class="filter-select">
                        <option>Seleccionar categor√≠a</option>
                        <option>Cursos</option>
                        <option>Libros</option>
                        <option>√ötiles Escolares</option>
                        <option>Tecnolog√≠a</option>
                        <option>Accesorios</option>
                    </select>
                </div>

                <div class="filter-group">
                    <h4>Rango de precio: $0 - $200.000</h4>
                    <div class="price-range">
                        <div class="price-slider"></div>
                    </div>
                </div>

                <div class="filter-group">
                    <h4>Rating m√≠nimo: 0 estrellas</h4>
                    <div class="rating-stars">
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                    </div>
                </div>
            </aside>

            <section class="products-grid" id="products-grid">
                <!-- Los productos se cargar√°n din√°micamente desde products.json -->
                <div class="loading-message">
                    <p>Cargando productos...</p>
                </div>
            </section>
        </div>
    </main>

    <script src="loading-screen.js"></script>
    <script src="main.js"></script>
    <script src="wishlist.js"></script>
    <script src="product-modal.js"></script>
    
    <!-- Script de verificaci√≥n -->
    <script>
        // Verificar que todo est√© funcionando despu√©s de un peque√±o delay
        setTimeout(() => {
            console.log('üîç Verificando componentes...');
            console.log('- assignWishlistEvents:', typeof assignWishlistEvents);
            console.log('- assignViewDetailsEvents:', typeof assignViewDetailsEvents);
            console.log('- toggleWishlist:', typeof toggleWishlist);
            console.log('- openProductModal:', typeof openProductModal);
            
            // Verificar botones
            const wishlistBtns = document.querySelectorAll('.wishlist-heart-btn');
            const detailsBtns = document.querySelectorAll('.view-details-btn');
            console.log('- Botones de wishlist encontrados:', wishlistBtns.length);
            console.log('- Botones de detalles encontrados:', detailsBtns.length);
            
            if (wishlistBtns.length > 0 || detailsBtns.length > 0) {
                console.log('‚úÖ Botones encontrados, reafirmando eventos...');
                if (typeof assignWishlistEvents === 'function') assignWishlistEvents();
                if (typeof assignViewDetailsEvents === 'function') assignViewDetailsEvents();
            }
        }, 3000);
    </script>
</body>
</html>

